# 6.10 동적 타이핑

## 정적 타이핑 언어와 동적 타이핑 언어

자바스크립트의 모든 값은 데이터 타입을 갖는데, 변수는 데이터 타입을 가질까?

- 기본적으로 변수는 타입을 가지지 않고 값만 타입을 가진다. 현재 변수에 할당되어 있는 값에 의해 변수의 타입이 동적으로 결정된다. 변수는 값에 묶여 있는 값에 대한 별명이다.

### 정적 타이핑 언어

- 종류 : C, C++, Java, Kotlin, Go, Haskell, Rust, Scala 등
- 명시적 타입 선언(explicit type declaration) : 변수를 선언할 때 변수에 할당할 수 있는 값의 데이터 타입을 사전에 선언하는 것

```c
//c 변수에는 1바이트 정수 타입의 값만 할당할 수 있다.
char c;

//num 변수에는 4바이트 정수 타입의 값만 할당할 수 있다.
int num;
```

- 변수의 타입을 변경할 수 없고, 변수에 선언한 타입에 맞는 값만 할당
- 컴파일 시점에 <strong>타입 체크</strong>를 수행 : 타입 체크를 통과를 못하면 프로그램의 실행을 막는다. 타입 일관성을 강제하여 안정적인 코드 구현을 통해 런타임에 발생하는 에러를 줄인다.

### 동적 타이핑 언어 (자바스크립트 기준)

- 종류 : JavaScript, Python, PHP, Ruby, Lisp, Perl
- 동적 타이핑(dynamic typing) : 자바스크립트의 변수는 선언이 아닌 할당에 의해 타입이 결정(타입 추론 type inference)된다. 그리고 재할당에 의해 변수의 타입은 언제든 동적으로 변할 수 있다.
- 변수를 선언할 때 타입을 선언하지 않음
- 키워드를 통한 변수의 선언
- 어떤 데이터 타입의 값이라도 자유롭게 할당

```js
var foo;
console.log(typeof foo); //undefined

foo = 3;
console.log(typeof foo); //number

foo = "Hello!";
console.log(typeof foo); //string

foo = true;
console.log(typeof foo); //boolean

foo = null;
console.log(typeof foo); //object

foo = Symbol();
console.log(typeof foo); //symbol

foo = {};
console.log(typeof foo); //object

foo = [];
console.log(typeof foo); //object

foo = function () {};
console.log(typeof foo); //function
```

## 동적 타입 언어와 변수

### 장점

- 변수에 어떤 데이터 타입의 값이라도 자유롭게 할당할 수 있어 데이터 타입에 무감각해질 정도로 편리하다.
- 유연성(flexibility)이 높다.

### 단점

- 변수의 값은 언제든지 변경될 수 있기 때문에 복잡한 프로그램에서는 변화하는 변수 값을 추적하기 어려울 수 있다.
- 변수의 타입이 고정되어 있지 않기 때문에 값의 변경에 의해 타입도 언제든지 변경될 수 있다.
- 동적 타입 언어의 변수는 값을 확인하기 전에는 타입을 확신할 수 없다.
- 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동으로 변환되기도 한다.
- 신뢰성(reliability)이 떨어진다.

단점 때문에 데이터 타입을 체크해야하는 경우 번거롭고 코드의 양이 증가한다. 그래서 변수를 사용할 때 아래와 같은 주의점을 기억하자.

### 변수를 사용할 때 주의할 사항

- 변수의 무분별한 남발은 금물. 꼭 필요한 경우에 제한적으로 사용한다. 변수 값은 재할당에 의해 언제든지 변경될 수 있다.타입을 잘못 예측해 오류를 발생할 가능성이 크다. 변수의 갯수가 많을수록 오류 발생 확률도 높아진다.
- 변수의 유효 범위(스코프)는 최대한 좁게 만든다. 유효범위가 넓을수록 변수로 인한 오류 발생확률이 높아진다. (13장 스코프 참조)
- 전역 변수는 최대한 이용하지 말자 : 값이 의도치 않게 변경될 수 있음, 프로그램의 복잡성 증가, 추적이 어려워짐, 오류 원인을 특정하기 어렵게 만듬. (14장 전역 변수의 문제점 참조)
- 변수보다는 상수를 사용하여 변경을 억제한다. (15.3절 const 키워드 참조)
- 변수의 이름은 변수의 목적이나 의미를 파악할 수 있도록 네이밍한다.
