# 14.3 전역 변수의 사용을 억제하는 방법

전역 변수를 꼭 사용해야 하는 이유가 없다면 지역 변수를 쓰도록 하자.  
변수의 스코프는 좁을수록 좋다.

꼭 쓰지 말자 (X) => 무분별한 전역 변수의 남발을 억제하자 (O)

## 즉시 실행 함수

즉시 실행 함수는 함수의 정의와 동시에 호출되는 즉시 한 번만 호출된다. 모든 코드를 즉시 실행 함수로 감싸면 모든 변수는 즉시 실행 함수의 지역 변수가 된다. 이러한 특성을 이용해 전역 변수의 사용을 제한한다.  
즉시 실행 함수는 전역 변수를 생성하지 않으므로 라이브러리 등에 자주 사용된다.

```js
(function () {
  var foo = 10; // 즉시 실행 함수의 지역 변수
  // ...
})();

console.log(foo); // ReferenceError: foo is net defined
```

## 네임스페이스 객체

## 모듈 패턴

## ES6 모듈

ES6 모듈은 파일 자체의 독자적인 모듈 스코프를 제공한다.  
이 모듈 내에서 var 키워드로 선언한 변수는 더는 전역 변수도, window 객체의 프로퍼티도 아니다.

모던 브라우저에서 ES6 모듈을 사용할 수 있다.  
IE를 포함한 구형 브라우저에는 동작하지 않고 브라우저에서 모듈 기능을 사용하더라도 트랜스파일링이나 번들링이 필요하기 때문에 아직까지는 webpack 같은 모듈 번들러를 사용하는 것이 일반적이다.

사용법은 아래와 같다.  
모듈 파일의 확장자는 mjs를 권장한다.

```html
<script type="module" src="lib.mjs"></script>
```
